<div class="productos-lista-container">
    <div class="header">
      <h1>Administrar Productos</h1>
      <button class="btn-nuevo" (click)="nuevoProducto()">Nuevo Producto</button>
    </div>
    
    <div class="error-message" *ngIf="error">{{ error }}</div>
    
    <div class="loading" *ngIf="cargando">Cargando productos...</div>
    
    <div class="productos-tabla" *ngIf="!cargando && productos.length > 0">
      <table>
        <thead>
          <tr>
            <th>Imagen</th>
            <th>Nombre</th>
            <th>Categoría</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Destacado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos" (click)="verProducto(producto._id)">
            <td class="imagen-celda">
              <img [src]="producto.imagenUrl" alt="{{ producto.nombre }}" class="producto-imagen">
            </td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.categoria }}</td>
            <td>{{ producto.precio | currency }}</td>
            <td>{{ producto.stock }}</td>
            <td>
              <span class="destacado-badge" [ngClass]="{'activo': producto.destacado}">
                {{ producto.destacado ? 'Sí' : 'No' }}
              </span>
            </td>
            <td class="acciones-celda">
              <button class="btn-editar" (click)="verProducto(producto._id); $event.stopPropagation()">
                Editar
              </button>
              <button class="btn-eliminar" (click)="eliminarProducto(producto._id, $event)">
                Eliminar
              </button>
            </td>
          </tr>
        </tbody>